{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"48789151-f51ae4d97727bedfe2d09c642\";\n\n\nexport async function fetchImages(value) {\n    const query = value.trim();\n    console.log(\"Надсилаємо запит:\", query)\n\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    };\n\n    try {\n        const response = await axios.get(BASE_URL, { params });\n        console.log(\"Відповідь від API:\", response.data);\n        return response.data; \n    } catch (error) {\n        console.error(\"Помилка API:\", error);\n        iziToast.error({\n            position: \"topRight\",\n            message: \"Error fetching images. Please try again!\",\n        });\n        return { hits: [] };\n    }\n}\n","export function renderImage(data) {\n    return data.map(image => `\n      <li class=\"gallery-item\">\n        <div class=\"image-cont\">\n          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          </a>\n          <div class=\"image-descr\">\n            <div class=\"descr-box\">\n              <p class=\"image-feature\">Likes</p>\n              <p class=\"image-data\">${image.likes}</p>\n            </div>\n            <div class=\"descr-box\">\n              <p class=\"image-feature\">Views</p>\n              <p class=\"image-data\">${image.views}</p>\n            </div>\n            <div class=\"descr-box\">\n              <p class=\"image-feature\">Comments</p>\n              <p class=\"image-data\">${image.comments}</p>\n            </div>\n            <div class=\"descr-box\">\n              <p class=\"image-feature\">Downloads</p>\n              <p class=\"image-data\">${image.downloads}</p>\n            </div>\n          </div>\n        </div>\n      </li>\n    `).join(\"\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImage } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".search-form\");\nconst input = document.querySelector(\".search-input\");\nconst list = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nlet lightbox = new SimpleLightbox(\".gallery a\", {\n    captions: true,\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\",\n});\n\nform.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n    const value = input.value.trim();\n\n    if (value === \"\") {\n        iziToast.error({\n            position: \"topRight\",\n            message: \"Please enter some text\",\n        });\n        return;\n    }\n\n    list.innerHTML = \"\";\n    loader.classList.remove(\"visually-hidden\");\n\n    try {\n        console.log(\"Надсилаємо запит з:\", value);\n        const data = await fetchImages(value);\n        console.log(\"Ответ от API:\", data);\n\n        if (data.hits && data.hits.length > 0) {\n            list.insertAdjacentHTML(\"beforeend\", renderImage(data.hits));\n            lightbox.refresh();\n            input.value = \"\";\n        } else {\n            iziToast.error({\n                position: \"topRight\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n        }\n    } catch (error) {\n        console.error(\"Помилка при запиті:\", error);\n        iziToast.error({\n            position: \"topRight\",\n            message: \"Sorry, the request can't be completed at this time. Please try again\",\n        });\n    } finally {\n        loader.classList.add(\"visually-hidden\");\n    }\n});\n\n\n"],"names":["BASE_URL","API_KEY","fetchImages","value","query","params","response","axios","error","iziToast","renderImage","data","image","form","input","list","loader","lightbox","SimpleLightbox","event"],"mappings":"+vBAGA,MAAMA,EAAW,2BACXC,EAAU,qCAGT,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAQD,EAAM,OACpB,QAAQ,IAAI,oBAAqBC,CAAK,EAEtC,MAAMC,EAAS,CACX,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAEI,GAAI,CACA,MAAME,EAAW,MAAMC,EAAM,IAAIP,EAAU,CAAE,OAAAK,CAAM,CAAE,EACrD,eAAQ,IAAI,qBAAsBC,EAAS,IAAI,EACxCA,EAAS,IACnB,OAAQE,EAAO,CACZ,eAAQ,MAAM,eAAgBA,CAAK,EACnCC,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0CACrB,CAAS,EACM,CAAE,KAAM,CAAA,EAClB,CACL,CC/BO,SAASC,EAAYC,EAAM,CAC9B,OAAOA,EAAK,IAAIC,GAAS;AAAA;AAAA;AAAA,0CAGaA,EAAM,aAAa;AAAA,8CACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sCAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAKhD,EAAE,KAAK,EAAE,CACd,CCrBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAC,EAEDL,EAAK,iBAAiB,SAAU,MAAOM,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMhB,EAAQW,EAAM,MAAM,KAAI,EAE9B,GAAIX,IAAU,GAAI,CACdM,EAAS,MAAM,CACX,SAAU,WACV,QAAS,wBACrB,CAAS,EACD,MACH,CAEDM,EAAK,UAAY,GACjBC,EAAO,UAAU,OAAO,iBAAiB,EAEzC,GAAI,CACA,QAAQ,IAAI,sBAAuBb,CAAK,EACxC,MAAMQ,EAAO,MAAMT,EAAYC,CAAK,EACpC,QAAQ,IAAI,gBAAiBQ,CAAI,EAE7BA,EAAK,MAAQA,EAAK,KAAK,OAAS,GAChCI,EAAK,mBAAmB,YAAaL,EAAYC,EAAK,IAAI,CAAC,EAC3DM,EAAS,QAAO,EAChBH,EAAM,MAAQ,IAEdL,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EACzB,CAAa,CAER,OAAQD,EAAO,CACZ,QAAQ,MAAM,sBAAuBA,CAAK,EAC1CC,EAAS,MAAM,CACX,SAAU,WACV,QAAS,sEACrB,CAAS,CACT,QAAc,CACNO,EAAO,UAAU,IAAI,iBAAiB,CACzC,CACL,CAAC"}